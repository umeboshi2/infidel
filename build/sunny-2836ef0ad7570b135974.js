webpackJsonp([4],{0:function(t,o,n){var e,r,i,u,c,p,a;a=n(33).start_with_user,i=n(3),p=n(25),e=n(32),e.set("applets",[{appname:"bumblr",name:"Bumblr",url:"#bumblr"},{appname:"sunny",name:"Clients",url:"#sunny"},{appname:"dbdocs",name:"DB Docs",url:"#dbdocs"},{appname:"todos",name:"To Dos",url:"#todos"}]),r=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("messages"),r.reply("main:app:appmodel",function(){return e}),n(35),n(31),n(30),n(131),n(126),n(134),c=new i.Application,p(c,e),a(c),t.exports=c},34:function(t,o,n){var e,r,i,u,c,p,a,s,l=function(t,o){function n(){this.constructor=t}for(var e in o)_.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},_={}.hasOwnProperty;e=n(2),p=n(3),c=n(13).MainController,s=n(20).login_form,u=e.Radio.channel("global"),a=e.Radio.channel("messages"),i=e.Radio.channel("static-documents"),r=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return l(o,t),o.prototype._view_resource=function(t){return n.e(0,function(o){return function(){var e,r;return e=n(104).FrontDoorMainView,r=new e({model:t}),o._show_content(r)}}(this))},o.prototype.view_page=function(t){var o,n;return o=i.request("get-document",t),n=o.fetch(),n.done(function(t){return function(){return t._view_resource(o)}}(this)),n.fail(function(t){return function(){return a.request("danger","Failed to get document")}}(this))},o.prototype.frontdoor_needuser=function(){var t;return t=u.request("current-user"),t.has("name")?this.frontdoor_hasuser(t):this.show_login()},o.prototype.show_login=function(){var t;return t=new e.Marionette.ItemView({template:s}),this._show_content(t)},o.prototype.frontdoor_hasuser=function(t){return this.default_view()},o.prototype.default_view=function(){return this.view_page("intro")},o.prototype.frontdoor=function(){var t;return t=u.request("main:app:appmodel"),t.get("needUser")?(console.log("needUser is true"),this.frontdoor_needuser()):this.view_page("intro")},o}(c),t.exports=r},35:function(t,o,n){var e,r,i,u,c=function(t,o){function n(){this.constructor=t}for(var e in o)p.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},p={}.hasOwnProperty;e=n(12),r=n(34),i=Backbone.Radio.channel("global"),u=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return c(o,t),o.prototype.empty_sidebar_on_route=!0,o.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/:name":"view_page","frontdoor/login":"show_login","pages/:name":"view_page"},o}(e),i.reply("applet:frontdoor:route",function(){var t,o;return t=new r(i),o=new u({controller:t})})},124:function(t,o,n){var e,r,i,u,c,p=function(t,o){function n(){this.constructor=t}for(var e in o)a.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},a={}.hasOwnProperty;i=n(13).MainController,r=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("messages"),c=Backbone.Radio.channel("resources"),e=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return p(o,t),o.prototype.collection=c.request("document-collection"),o.prototype.list_pages=function(){return console.log("List Pages"),n.e(0,function(t){return function(){var o,e,r;return o=n(180),r=new o({collection:t.collection}),e=t.collection.fetch(),e.done(function(){return t._show_content(r)}),e.fail(function(){return u.request("danger","Failed to load documents.")})}}(this))},o.prototype.edit_page=function(t){return n.e(1,function(o){return function(){var e,r;return e=n(101).EditPageView,r=c.request("get-document",t),o._load_view(e,r)}}(this))},o.prototype.new_page=function(){return n.e(1,function(t){return function(){var o;return o=n(101).NewPageView,t._show_content(new o)}}(this))},o}(i),t.exports=e},125:function(t,o,n){var e,r,i,u,c,p,a,s,l,_=function(t,o){function n(){this.constructor=t}for(var e in o)d.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},d={}.hasOwnProperty;e=n(2),l=n(24),c=l.GhostModel,u=l.GhostCollection,s=n(26).make_dbchannel,p=e.Radio.channel("resources"),a="/api/dev/sitedocuments",r=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return _(o,t),o.prototype.urlRoot=a,o}(c),i=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return _(o,t),o.prototype.url=a,o.prototype.model=r,o}(u),s(p,"document",r,i),t.exports={DocumentCollection:i}},126:function(t,o,n){var e,r,i,u,c,p=function(t,o){function n(){this.constructor=t}for(var e in o)a.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},a={}.hasOwnProperty;e=n(12),n(125),r=n(124),i=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("resources"),c=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return p(o,t),o.prototype.empty_sidebar_on_route=!0,o.prototype.appRoutes={dbdocs:"list_pages","dbdocs/documents/new":"new_page","dbdocs/documents/edit/:id":"edit_page"},o}(e),i.reply("applet:dbdocs:route",function(){var t,o;return t=new r(i),o=new c({controller:t})})},129:function(t,o,n){var e,r,i,u,c,p,a=function(t,o){function n(){this.constructor=t}for(var e in o)s.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},s={}.hasOwnProperty;p=n(9),i=n(13).MainController,r=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("messages"),c=Backbone.Radio.channel("sunny"),e=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return a(o,t),o.prototype.clients=c.request("client-collection"),o.prototype.list_clients=function(){return n.e(0,function(t){return function(){var o,e,r;return o=n(183),r=new o({collection:t.clients}),e=t.clients.fetch(),e.done(function(){return t._show_content(r)}),e.fail(function(){return u.request("danger","Failed to load clients.")})}}(this))},o.prototype.new_client=function(){return n.e(0,function(t){return function(){var o;return o=n(102).NewClientView,t._show_content(new o)}}(this))},o.prototype.add_yard=function(t){return n.e(0,function(t){return function(){var o;return o=n(185).NewYardView,t._show_content(new o)}}(this))},o.prototype._show_edit_client=function(t,o){var n;return n=new t({model:o}),this._show_content(n)},o.prototype.edit_client=function(t){return n.e(0,function(o){return function(){var e,r,i;return e=n(102).EditClientView,r=c.request("get-client",t),r.has("name")?o._show_edit_client(e,r):(i=r.fetch(),i.done(function(){return o._show_edit_client(e,r)}),i.fail(function(){return u.request("danger","Failed to load client data.")}))}}(this))},o.prototype.view_client=function(t){return n.e(0,function(o){return function(){var e,r,i;return e=n(184),r=c.request("get-client",t),r.has("name")?o._show_view(e,r):(i=r.fetch(),i.done(function(){var t,n;return t=c.request("yard-collection"),n=t.fetch({data:{client_id:r.id}}),n.done(function(){return o._show_view(e,r)}),n.fail(function(){return u.request("danger","Failed to load yards.")})}),i.fail(function(){return u.request("danger","Failed to load client data.")}))}}(this))},o}(i),t.exports=e},130:function(t,o,n){var e,r,i,u,c,p,a,s,l,_,d,f,y=function(t,o){function n(){this.constructor=t}for(var e in o)h.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},h={}.hasOwnProperty;e=n(2),_=n(26).make_dbchannel,d=n(24),c=d.GhostModel,u=d.GhostCollection,p=e.Radio.channel("global"),a=e.Radio.channel("sunny"),f="/api/dev/sunny/clients",r=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return y(o,t),o.prototype.urlRoot=f,o}(c),i=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return y(o,t),o.prototype.model=r,o.prototype.url=f,o}(u),_(a,"client",r,i),f="/api/dev/sunny/yards",s=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return y(o,t),o.prototype.urlRoot=f,o}(e.Model),l=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return y(o,t),o.prototype.model=s,o.prototype.url=f,o}(e.Collection),_(a,"yard",s,l),t.exports={ClientCollection:i,YardCollection:l}},131:function(t,o,n){var e,r,i,u,c,p=function(t,o){function n(){this.constructor=t}for(var e in o)a.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},a={}.hasOwnProperty;e=n(12),n(130),r=n(129),i=Backbone.Radio.channel("global"),c=Backbone.Radio.channel("sunny"),u=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return p(o,t),o.prototype.empty_sidebar_on_route=!0,o.prototype.appRoutes={sunny:"list_clients","sunny/clients":"list_clients","sunny/clients/new":"new_client","sunny/clients/edit/:id":"edit_client","sunny/clients/view/:id":"view_client","sunny/clients/addyard/:client_id":"add_yard"},o}(e),i.reply("applet:sunny:route",function(){var t,o;t=new r(i),c.reply("main-controller",function(){return t}),c.reply("edit-client",function(o){return t.edit_client(o)}),o=new u({controller:t})})},132:function(t,o,n){var e,r,i,u,c,p,a=function(t,o){function n(){this.constructor=t}for(var e in o)s.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},s={}.hasOwnProperty;p=n(9),i=n(13).MainController,r=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("messages"),c=Backbone.Radio.channel("todos"),e=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return a(o,t),o.prototype.collection=c.request("todo-collection"),o.prototype.list_todos=function(){return n.e(0,function(t){return function(){var o,e,r;return o=n(186),r=new o({collection:t.collection}),e=t.collection.fetch(),e.done(function(){return t._show_content(r)}),e.fail(function(){return u.request("danger","Failed to load todos.")})}}(this))},o.prototype.new_todo=function(){return n.e(0,function(t){return function(){var o;return o=n(103).NewView,t._show_content(new o)}}(this))},o.prototype.edit_todo=function(t){return n.e(0,function(o){return function(){var e,r;return e=n(103).EditView,r=c.request("get-todo",t),o._load_view(e,r,"todo")}}(this))},o.prototype.view_todo=function(t){return n.e(0,function(o){return function(){var e,r;return e=n(187),r=c.request("get-todo",t),o._load_view(e,r,"todo")}}(this))},o}(i),t.exports=e},133:function(t,o,n){var e,r,i,u,c,p,a,s,l,_,d,f=function(t,o){function n(){this.constructor=t}for(var e in o)y.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},y={}.hasOwnProperty;e=n(2),l=n(24),u=l.GhostModel,i=l.GhostCollection,r=n(36).BaseCollection,s=n(26).make_dbchannel,p=e.Radio.channel("todos"),d="/api/dev/todos",c=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return f(o,t),o.prototype.urlRoot=d,o}(u),a=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return f(o,t),o.prototype.url=d,o.prototype.model=c,o}(i),_=new a,s(p,"todo",c,a),t.exports={TodoCollection:a}},134:function(t,o,n){var e,r,i,u,c,p=function(t,o){function n(){this.constructor=t}for(var e in o)a.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},a={}.hasOwnProperty;e=n(12),n(133),r=n(132),i=Backbone.Radio.channel("global"),c=Backbone.Radio.channel("todos"),u=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return p(o,t),o.prototype.empty_sidebar_on_route=!0,o.prototype.appRoutes={todos:"list_todos","todos/todos/new":"new_todo","todos/todos/edit/:id":"edit_todo","todos/todos/view/:id":"view_todo"},o}(e),i.reply("applet:todos:route",function(){var t,o;t=new r(i),c.reply("main-controller",function(){return t}),o=new u({controller:t})})}});