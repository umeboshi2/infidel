webpackJsonp([6],{0:function(o,n,t){var r,e,u,i,a,p,s,c,l;l=t(33).start_with_user,i=t(3),c=t(25),r=t(32),r.set("applets",[{name:"Clients",url:"/sunny"},{appname:"bumblr",name:"Bumblr",url:"#bumblr"}]),s=r.get("brand"),s.url="#",r.set({brand:s}),u=Backbone.Radio.channel("global"),a=Backbone.Radio.channel("messages"),e=Backbone.Radio.channel("static-documents"),u.reply("main:app:appmodel",function(){return r}),t(128),t(31),t(30),p=new i.Application,c(p,r),l(p),o.exports=p},127:function(o,n,t){var r,e,u,i,a,p,s,c,l=function(o,n){function t(){this.constructor=o}for(var r in n)f.call(n,r)&&(o[r]=n[r]);return t.prototype=n.prototype,o.prototype=new t,o.__super__=n.prototype,o},f={}.hasOwnProperty;r=t(2),p=t(3),a=t(13).MainController,c=t(20).login_form,i=r.Radio.channel("global"),s=r.Radio.channel("messages"),u=r.Radio.channel("static-documents"),e=function(o){function n(){return n.__super__.constructor.apply(this,arguments)}return l(n,o),n.prototype._view_resource=function(o){return t.e(0,function(n){return function(){var r,e;return r=t(182).FrontDoorMainView,e=new r({model:o}),n._show_content(e)}}(this))},n.prototype._view_login=function(){return t.e(0,function(o){return function(){var n,r;return n=t(181),r=new n,o._show_content(r)}}(this))},n.prototype.view_page=function(o){var n,t;return n=u.request("get-document",o),t=n.fetch(),t.done(function(o){return function(){return o._view_resource(n)}}(this)),t.fail(function(o){return function(){return s.request("danger","Failed to get document")}}(this))},n.prototype.frontdoor_needuser=function(){var o;return o=i.request("current-user"),o.has("name")?this.frontdoor_hasuser(o):this.show_login()},n.prototype.show_login=function(){return this._view_login()},n.prototype.frontdoor_hasuser=function(o){return this.default_view()},n.prototype.default_view=function(){return this.view_page("intro")},n.prototype.frontdoor=function(){var o;return o=i.request("main:app:appmodel"),o.get("needUser")?(console.log("needUser is true"),this.frontdoor_needuser()):this.view_page("intro")},n}(a),o.exports=e},128:function(o,n,t){var r,e,u,i,a=function(o,n){function t(){this.constructor=o}for(var r in n)p.call(n,r)&&(o[r]=n[r]);return t.prototype=n.prototype,o.prototype=new t,o.__super__=n.prototype,o},p={}.hasOwnProperty;r=t(12),e=t(127),u=Backbone.Radio.channel("global"),i=function(o){function n(){return n.__super__.constructor.apply(this,arguments)}return a(n,o),n.prototype.empty_sidebar_on_route=!0,n.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/:name":"view_page","frontdoor/login":"show_login","pages/:name":"view_page"},n}(r),u.reply("applet:frontdoor:route",function(){var o,n;return o=new e(u),n=new i({controller:o})})}});