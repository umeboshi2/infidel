webpackJsonp([25],{145:function(e,n,t){var o,r,i,u,a=function(e,n){function t(){this.constructor=e}for(var o in n)p.call(n,o)&&(e[o]=n[o]);return t.prototype=n.prototype,e.prototype=new t,e.__super__=n.prototype,e},p={}.hasOwnProperty;o=t(8),r=t(185),i=Backbone.Radio.channel("global"),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return a(n,e),n.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/:name":"view_page","frontdoor/login":"show_login","pages/:name":"view_page"},n}(o),i.reply("applet:frontdoor:route",function(){var e,n;return e=new r(i),n=new u({controller:e})})},185:function(e,n,t){var o,r,i,u,a,p,s,c,l,d,f,_,h=function(e,n){function t(){this.constructor=e}for(var o in n)w.call(n,o)&&(e[o]=n[o]);return t.prototype=n.prototype,e.prototype=new t,e.__super__=n.prototype,e},w={}.hasOwnProperty;o=t(0),s=t(2),p=t(9).MainController,f=t(21).login_form,l=t(11).SlideDownRegion,a=o.Radio.channel("global"),c=o.Radio.channel("messages"),i=o.Radio.channel("static-documents"),_=t(3),d=_.renderable(function(){return _.div("#main-content.col-sm-12")}),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return h(n,e),n.prototype.template=d,n.prototype.regions=function(){return{content:new l({el:"#main-content",speed:"slow"})}},n}(o.Marionette.View),r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return h(n,e),n.prototype.layoutClass=u,n.prototype._view_resource=function(e){return this.setup_layout_if_needed(),t.e(19).then(function(n){return function(){var o,r;return o=t(259).FrontDoorMainView,r=new o({model:e}),n.layout.showChildView("content",r)}}(this).bind(null,t)).catch(t.oe)},n.prototype._view_login=function(){return t.e(2).then(function(e){return function(){var n,o;return n=t(258),o=new n,e.layout.showChildView("content",o)}}(this).bind(null,t)).catch(t.oe)},n.prototype.view_page=function(e){var n,t;return n=i.request("get-document",e),t=n.fetch(),t.done(function(e){return function(){return e._view_resource(n)}}(this)),t.fail(function(e){return function(){return c.request("danger","Failed to get document")}}(this))},n.prototype.frontdoor_needuser=function(){var e;return e=a.request("current-user"),e.has("name")?this.frontdoor_hasuser(e):this.show_login()},n.prototype.show_login=function(){return this._view_login()},n.prototype.frontdoor_hasuser=function(e){return this.default_view()},n.prototype.default_view=function(){return this.setup_layout_if_needed(),this.view_page("intro")},n.prototype.frontdoor=function(){var e;return e=a.request("main:app:appmodel"),e.get("needUser")?(console.log("needUser is true"),this.frontdoor_needuser()):this.default_view()},n}(p),e.exports=r},240:function(e,n,t){var o,r,i,u,a,p,s,c,l;l=t(30).start_with_user,u=t(2),c=t(16),o=t(29),console.log("APPMODEL",o),o.set("applets",[{name:"User Admin",url:"#useradmin"},{appname:"bumblr",name:"Bumblr",url:"#bumblr"},{appname:"phaserdemo",name:"Phaser",url:"#phaserdemo"}]),s=o.get("brand"),s.name="Admin Page",s.url="/",o.set({brand:s}),i=Backbone.Radio.channel("global"),a=Backbone.Radio.channel("messages"),r=Backbone.Radio.channel("static-documents"),i.reply("main:app:appmodel",function(){return o}),t(145),t(28),t(27),p=new u.Application,c(p,o),l(p),e.exports=p}},[240]);