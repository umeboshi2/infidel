webpackJsonp([7],{0:function(t,e,n){var o,r,i,u,c,a,s;s=n(55).start_with_user,i=n(3),a=n(28),o=n(54),o.set("applets",[{appname:"bumblr",name:"Bumblr",url:"#bumblr"},{appname:"sunny",name:"Clients",url:"#sunny"},{appname:"dbdocs",name:"DB Docs",url:"#dbdocs"},{appname:"todos",name:"To Dos",url:"#todos"}]),r=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("messages"),r.reply("main:app:appmodel",function(){return o}),n(46),n(53),n(41),n(49),n(44),n(52),c=new i.Application,a(c,o),s(c),t.exports=c},42:function(t,e,n){var o,r,i,u,c,a=function(t,e){function n(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=n(11).MainController,r=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("messages"),c=Backbone.Radio.channel("resources"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.collection=c.request("document-collection"),e.prototype.list_pages=function(){return this.setup_layout_if_needed(),console.log("List Pages"),n.e(0,function(t){return function(){var e,o,r;return e=n(118),r=new e({collection:t.collection}),o=t.collection.fetch(),o.done(function(){return t._show_content(r)}),o.fail(function(){return u.request("danger","Failed to load documents.")})}}(this))},e.prototype.edit_page=function(t){return this.setup_layout_if_needed(),n.e(3,function(e){return function(){var o,r;return o=n(34).EditPageView,r=c.request("get-document",t),e._load_view(o,r)}}(this))},e.prototype.new_page=function(){return this.setup_layout_if_needed(),n.e(3,function(t){return function(){var e;return e=n(34).NewPageView,t._show_content(new e)}}(this))},e}(i),t.exports=o},43:function(t,e,n){var o,r,i,u,c,a,s,p,l,d=function(t,e){function n(){this.constructor=t}for(var o in e)_.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},_={}.hasOwnProperty;o=n(2),l=n(14),c=l.GhostModel,u=l.GhostCollection,p=n(16).make_dbchannel,a=o.Radio.channel("resources"),s="/api/dev/basic/sitedocuments",r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.urlRoot=s,e}(c),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.url=s,e.prototype.model=r,e}(u),p(a,"document",r,i),t.exports={DocumentCollection:i}},44:function(t,e,n){var o,r,i,u,c,a=function(t,e){function n(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=n(10),n(43),r=n(42),i=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("resources"),c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.appRoutes={dbdocs:"list_pages","dbdocs/documents/new":"new_page","dbdocs/documents/edit/:id":"edit_page"},e}(o),i.reply("applet:dbdocs:route",function(){var t,e;return t=new r(i),e=new c({controller:t})})},45:function(t,e,n){var o,r,i,u,c,a,s,p,l,d,_,f,y=function(t,e){function n(){this.constructor=t}for(var o in e)h.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;o=n(2),s=n(3),a=n(11).MainController,_=n(23).login_form,l=n(12).SlideDownRegion,c=o.Radio.channel("global"),p=o.Radio.channel("messages"),u=o.Radio.channel("hubby"),f=n(4),d=f.renderable(function(){return f.div("#main-content.col-sm-12")}),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.template=d,e.prototype.regions=function(){return{content:new l({el:"#main-content",speed:"slow"})}},e}(o.Marionette.View),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.layoutClass=i,e.prototype._view_resource=function(t){return this.setup_layout_if_needed(),n.e(0,function(e){return function(){var o,r;return o=n(35).FrontDoorMainView,r=new o({model:t}),e.layout.showChildView("content",r)}}(this))},e.prototype._view_login=function(){return n.e(0,function(t){return function(){var e,o;return e=n(119),o=new e,t.layout.showChildView("content",o)}}(this))},e.prototype.view_page=function(t){var e,n;return e=c.request("main:ghost:posts"),n=c.request("main:ghost:get-post",t),n.done(function(n){return function(){var o;return o=e.find({slug:t}),n._view_resource(o)}}(this)),n.fail(function(t){return function(){return p.request("danger","Failed to get document")}}(this))},e.prototype.frontdoor_needuser=function(){var t;return t=c.request("current-user"),t.has("name")?this.frontdoor_hasuser(t):this.show_login()},e.prototype.show_login=function(){return this.setup_layout_if_needed(),this._view_login()},e.prototype.frontdoor_hasuser=function(t){return this.default_view()},e.prototype.default_view=function(){return this.setup_layout_if_needed(),n.e(0,function(t){return function(){var t;return t=n(35).PostList,u.request("view-calendar")}}(this))},e.prototype.frontdoor=function(){var t;return t=c.request("main:app:appmodel"),t.get("needUser")?(console.log("needUser is true"),this.frontdoor_needuser()):this.default_view()},e}(a),t.exports=r},46:function(t,e,n){var o,r,i,u,c=function(t,e){function n(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=n(10),r=n(45),i=Backbone.Radio.channel("global"),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/:name":"view_page","frontdoor/login":"show_login","pages/:name":"view_page"},e}(o),i.reply("applet:frontdoor:route",function(){var t,e;return t=new r(i),e=new u({controller:t})})},47:function(t,e,n){var o,r,i,u,c,a,s,p,l,d,_,f,y=function(t,e){function n(){this.constructor=t}for(var o in e)h.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;r=n(2),a=n(3),d=n(5),f=n(4),_=n(32),c=n(11).MainController,p=n(12).SlideDownRegion,u=r.Radio.channel("global"),s=r.Radio.channel("messages"),l=r.Radio.channel("sunny"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.template=f.renderable(function(){return f.div("#main-content.col-sm-12")}),e.prototype.regions=function(){var t;return t=new p({el:"#main-content"}),t.slide_speed=_(".01s"),{content:t}},e}(r.Marionette.View),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.layoutClass=o,e.prototype.clients=l.request("client-collection"),e.prototype.list_clients=function(){return this.setup_layout_if_needed(),n.e(0,function(t){return function(){var e,o,r;return e=n(120),r=new e({collection:t.clients}),o=t.clients.fetch(),o.done(function(){return t._show_content(r)}),o.fail(function(){return s.request("danger","Failed to load clients.")})}}(this))},e.prototype.new_client=function(){return this.setup_layout_if_needed(),n.e(0,function(t){return function(){var e;return e=n(37).NewClientView,t.layout.showChildView("content",new e)}}(this))},e.prototype.add_yard=function(t){return this.setup_layout_if_needed(),n.e(2,function(e){return function(){var o,r,i;return o=n(38),r=l.request("new-yard"),r.set("sunnyclient_id",t),i=new o({model:r}),e.layout.showChildView("content",i)}}(this))},e.prototype.view_yard=function(t){return this.setup_layout_if_needed(),n.e(2,function(e){return function(){var o,r,i;return o=n(38),r=l.request("get-yard",t),r.has("sunnyclient")?e._show_edit_client(o,r):(i=r.fetch({data:{include:"*"}}),i.done(function(){return e._show_edit_client(o,r)}),i.fail(function(){return s.request("danger","Failed to load yard data.")}))}}(this))},e.prototype.yard_routines=function(t){return console.log("yard_routines",t)},e.prototype._show_edit_client=function(t,e){var n;return n=new t({model:e}),this.layout.showChildView("content",n)},e.prototype.edit_client=function(t){return this.setup_layout_if_needed(),n.e(0,function(e){return function(){var o,r,i;return o=n(37).EditClientView,r=l.request("get-client",t),r.has("name")?e._show_edit_client(o,r):(i=r.fetch(),i.done(function(){return e._show_edit_client(o,r)}),i.fail(function(){return s.request("danger","Failed to load client data.")}))}}(this))},e.prototype._fetch_yards_and_view_client=function(t,e){var n,o;return n=l.request("yard-collection"),o=n.fetch({data:{sunnyclient_id:t.id}}),o.done(function(o){return function(){var r;return r=new e({model:t,collection:n}),window.cview=r,o.layout.showChildView("content",r)}}(this)),o.fail(function(t){return function(){return s.request("danger","Failed to load yards.")}}(this))},e.prototype.view_client=function(t){return this.setup_layout_if_needed(),n.e(0,function(e){return function(){var o,r,i;return o=n(121),r=l.request("get-client",t),r.has("name")?e._fetch_yards_and_view_client(r,o):(i=r.fetch(),i.done(function(){return e._fetch_yards_and_view_client(r,o)}),i.fail(function(){return s.request("danger","Failed to load client data.")}))}}(this))},e}(c),t.exports=i},48:function(t,e,n){var o,r,i,u,c,a,s,p,l,d,_,f,y,h,w,v,m=function(t,e){function n(){this.constructor=t}for(var o in e)g.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty;o=n(2),h=n(16).make_dbchannel,w=n(14),c=w.GhostModel,u=w.GhostCollection,a=o.Radio.channel("global"),s=o.Radio.channel("sunny"),v="/api/dev/basic/sunnyclients",r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.urlRoot=v,e}(c),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.model=r,e.prototype.url=v,e}(u),h(s,"client",r,i),v="/api/dev/basic/yards",p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.urlRoot=v,e}(c),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.model=p,e.prototype.url=v,e}(u),h(s,"yard",p,y),v="/api/dev/basic/yardroutines",l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.urlRoot=v,e.prototype.defaults=function(){return{frequency:14,leeway:3,rate:50,active:!0,routine_date:new Date}},e}(c),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.model=l,e.prototype.url=v,e}(u),h(s,"yardroutine",l,f),v="/api/dev/basic/yardroutinejobs",d=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.urlRoot=v,e}(c),_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.model=d,e.prototype.url=v,e}(u),h(s,"yardroutinejob",d,_),t.exports={Clients:i,Yards:y,YardRoutines:f,YardRoutineJobs:_}},49:function(t,e,n){var o,r,i,u,c,a=function(t,e){function n(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=n(10),n(48),r=n(47),i=Backbone.Radio.channel("global"),c=Backbone.Radio.channel("sunny"),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.appRoutes={sunny:"list_clients","sunny/clients":"list_clients","sunny/clients/new":"new_client","sunny/clients/edit/:id":"edit_client","sunny/clients/view/:id":"view_client","sunny/yards/add/:client_id":"add_yard","sunny/yards/view/:id":"view_yard","sunny/yards/routines/:yard_id":"yard_routines"},e}(o),i.reply("applet:sunny:route",function(){var t,e;t=new r(i),c.reply("main-controller",function(){return t}),c.reply("edit-client",function(e){return t.edit_client(e)}),e=new u({controller:t})})},50:function(t,e,n){var o,r,i,u,c,a,s,p,l,d=function(t,e){function n(){this.constructor=t}for(var o in e)_.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},_={}.hasOwnProperty;s=n(5),i=n(11).MainController,c=n(29),r=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("messages"),a=Backbone.Radio.channel("todos"),l=new Backbone.Model({entries:[{name:"List",url:"#todos"},{name:"Calendar",url:"#todos/calendar"},{name:"Complete",url:"#todos/completed"}]}),p={true:1,false:0},o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.sidebarclass=c,e.prototype.sidebar_model=l,e.prototype.collection=a.request("todo-collection"),e.prototype.setup_layout_if_needed=function(){return e.__super__.setup_layout_if_needed.call(this),this._make_sidebar()},e.prototype._load_view=function(t,e,n){var o;return e.isEmpty()||!e.has("created_at")?(o=e.fetch(),o.done(function(n){return function(){return n._show_view(t,e)}}(this)),o.fail(function(t){return function(){var t;return t="Failed to load "+n+" data.",u.request("danger",t)}}(this))):this._show_view(t,e)},e.prototype.list_certain_todos=function(t){return this.setup_layout_if_needed(),n.e(0,function(e){return function(){var o,r,i;return o=n(123),i=new o({collection:e.collection}),r=e.collection.fetch({data:{completed:t}}),r.done(function(){return e._show_content(i)}),r.fail(function(){return u.request("danger","Failed to load todos.")})}}(this))},e.prototype.list_completed_todos=function(){return this.list_certain_todos(p.true)},e.prototype.list_todos=function(){return this.list_certain_todos(p.false)},e.prototype.new_todo=function(){return this.setup_layout_if_needed(),n.e(0,function(t){return function(){var e;return e=n(39).NewView,t._show_content(new e)}}(this))},e.prototype.edit_todo=function(t){return this.setup_layout_if_needed(),n.e(0,function(e){return function(){var o,r;return o=n(39).EditView,r=a.request("get-todo",t),e._load_view(o,r,"todo")}}(this))},e.prototype.view_todo=function(t){return this.setup_layout_if_needed(),n.e(0,function(e){return function(){var o,r;return o=n(124),r=a.request("get-todo",t),e._load_view(o,r,"todo")}}(this))},e.prototype.view_calendar=function(){return this.setup_layout_if_needed(),n.e(2,function(t){return function(){var e;return e=n(122),t.layout.showChildView("content",new e)}}(this))},e}(i),t.exports=o},51:function(t,e,n){var o,r,i,u,c,a,s,p,l,d,_,f,y,h,w=function(t,e){function n(){this.constructor=t}for(var o in e)v.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty;o=n(2),_=n(14),u=_.GhostModel,i=_.GhostCollection,r=n(24).BaseCollection,d=n(16).make_dbchannel,s=o.Radio.channel("todos"),h="/api/dev/basic/todos",c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return w(e,t),e.prototype.urlRoot=h,e.prototype.defaults={completed:!1},e}(u),p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return w(e,t),e.prototype.url=h,e.prototype.model=c,e}(i),y=new p,d(s,"todo",c,p),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return w(e,t),e.prototype.url="/api/dev/basic/todos/create-cal",e.prototype.model=c,e}(i),f=new a,s.reply("todocal-collection",function(){return f}),l=void 0,s.reply("maincalendar:set-date",function(){var t;return t=$("#maincalendar"),l=t.fullCalendar("getDate")}),s.reply("maincalendar:get-date",function(){return l}),t.exports={TodoCollection:p}},52:function(t,e,n){var o,r,i,u,c,a=function(t,e){function n(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=n(10),n(51),r=n(50),i=Backbone.Radio.channel("global"),c=Backbone.Radio.channel("todos"),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.appRoutes={todos:"list_todos","todos/completed":"list_completed_todos","todos/calendar":"view_calendar","todos/todos/new":"new_todo","todos/todos/edit/:id":"edit_todo","todos/todos/view/:id":"view_todo"},e}(o),i.reply("applet:todos:route",function(){var t,e;t=new r(i),c.reply("main-controller",function(){return t}),e=new u({controller:t})})}});